use Magento\Catalog\Model\ResourceModel\Product\CollectionFactory as ProductCollectionFactory;
use Magento\Framework\DB\Select;

class YourClassName
{
    protected $productCollectionFactory;

    public function __construct(ProductCollectionFactory $productCollectionFactory)
    {
        $this->productCollectionFactory = $productCollectionFactory;
    }

    public function getProductsByYearMonths($yearMonths)
    {
        // Split the comma-separated string into an array of `YYYYMM` values
        $yearMonthArray = explode(',', $yearMonths);

        // Initialize an array to hold the conditions
        $conditions = [];

        // Process each `YYYYMM` value
        foreach ($yearMonthArray as $yearMonth) {
            // Extract year and month
            $year = substr($yearMonth, 0, 4);
            $month = substr($yearMonth, 4, 2);

            // Define the start and end date of the month
            $startDate = "$year-$month-01 00:00:00";
            $endDate = date("Y-m-t 23:59:59", strtotime($startDate));

            // Add condition for this month
            $conditions[] = ['from' => $startDate, 'to' => $endDate];
        }

        // Load product collection
        $productCollection = $this->productCollectionFactory->create();

        // Apply the combined conditions to the `created_at` field
        $productCollection->addFieldToFilter('created_at', $conditions);

        return $productCollection;
    }
}