 https://accounts.google.com/o/oauth2/auth?response_type=code&client_id=32555940559.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Fsdk.cloud.google.com%2Fauthcode.html&scope=openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloud-platform+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fappengine.admin+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fsqlservice.login+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcompute+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Faccounts.reauth&state=Z6DBcywT9E30xIyft9t90i1lronUyw&prompt=consent&access_type=offline&code_challenge=CknbvKoinFEnTZ--3X3HW36j3E-0Jut5-z1g_PP-KVU&code_challenge_method=S256

VIBwQE5QjsyXwf7

http://localhost/jfcms/admin/auth/reset-password?code=47691f7ad6677d14aaa1cd978407067f4206b581


https://forum.strapi.io/t/using-same-slug-on-different-locales/9165/5





const slugify = require('slugify');

module.exports = {
  lifecycles: {
    async beforeCreate(data) {
      if (data.title) {
        data.slug = slugify(data.title, { lower: true, strict: true });
        await ensureLocaleUniqueSlug(data);
      }
    },
    async beforeUpdate(params, data) {
      if (data.title) {
        data.slug = slugify(data.title, { lower: true, strict: true });
        await ensureLocaleUniqueSlug(data, params.id);
      }
    },
  },
};

async function ensureLocaleUniqueSlug(data, id = null) {
  const query = {
    where: {
      slug: data.slug,
      locale: data.locale,
    },
  };

  if (id) {
    query.where.id = { $ne: id }; // Exclude the current record
  }

  const existingEntry = await strapi.db.query('api::your-collection-name.your-collection-name').findOne(query);

  if (existingEntry) {
    throw new Error(`Slug "${data.slug}" already exists for locale "${data.locale}".`);
  }
}
